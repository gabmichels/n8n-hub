# n8n Hub Environment Configuration
# Copy this file to .env and customize the values

# -----------------------------------------------------------------------------
# Core n8n Configuration
# -----------------------------------------------------------------------------
N8N_HOST=localhost
N8N_PORT=5678
N8N_PROTOCOL=http
WEBHOOK_URL=http://localhost:5678/
GENERIC_TIMEZONE=Europe/Berlin

# n8n Encryption Key (CRITICAL - generate random 32-char hex string)
# Use: openssl rand -hex 16
# NEVER change this after first setup or you'll lose encrypted data!
N8N_ENCRYPTION_KEY=REPLACE_ME_WITH_RANDOM

# -----------------------------------------------------------------------------
# Basic Auth (Optional - set ACTIVE=true when exposing publicly)
# -----------------------------------------------------------------------------
N8N_BASIC_AUTH_ACTIVE=false
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=change_me

# -----------------------------------------------------------------------------
# PostgreSQL Database
# -----------------------------------------------------------------------------
POSTGRES_USER=n8n
POSTGRES_PASSWORD=supersecret
POSTGRES_DB=n8n

# -----------------------------------------------------------------------------
# Caddy Reverse Proxy & TLS
# -----------------------------------------------------------------------------
# Email for Let's Encrypt certificates (required for production)
CADDY_EMAIL=you@example.com

# Production domain (used only in prod mode for Caddy + WEBHOOK_URL)
# In production, set: N8N_HOST=${PUBLIC_DOMAIN}, N8N_PROTOCOL=https, WEBHOOK_URL=https://${PUBLIC_DOMAIN}/
PUBLIC_DOMAIN=automations.example.com

# -----------------------------------------------------------------------------
# PostHog Analytics Proxy (Optional)
# -----------------------------------------------------------------------------
# Subdomain for PostHog proxy - bypasses ad blockers
# Leave empty to disable (e.g., e.crowd-wisdom.com)
POSTHOG_PROXY_HOST=

# -----------------------------------------------------------------------------
# Fider Feedback Platform (Optional)
# -----------------------------------------------------------------------------
# Subdomain for Fider (e.g., feedback.crowd-wisdom.com)
FIDER_HOST=
FIDER_BASE_URL=https://feedback.example.com

# Fider Database (uses shared PostgreSQL)
FIDER_DB_USER=fider
FIDER_DB_PASSWORD=change_me_fider_password
FIDER_DB_NAME=fider

# Fider JWT Secret (generate with: openssl rand -hex 32)
FIDER_JWT_SECRET=REPLACE_ME_WITH_RANDOM

# Fider Email Configuration (optional - for notifications)
FIDER_EMAIL_NOREPLY=
FIDER_EMAIL_SMTP_HOST=
FIDER_EMAIL_SMTP_PORT=587
FIDER_EMAIL_SMTP_USERNAME=
FIDER_EMAIL_SMTP_PASSWORD=
FIDER_EMAIL_SMTP_ENABLE_STARTTLS=true